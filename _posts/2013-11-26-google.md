---
title: Google云计算核心技术大揭秘
link: http://seeksky.duapp.com/index.php/google%e4%ba%91%e8%ae%a1%e7%ae%97%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e5%a4%a7%e6%8f%ad%e7%a7%98/
author: xujinlai
description: 
post_id: 21001
created: 2013/11/26 09:32:44
created_gmt: 2013/11/26 09:32:44
comment_status: open
post_name: google%e4%ba%91%e8%ae%a1%e7%ae%97%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e5%a4%a7%e6%8f%ad%e7%a7%98
status: publish
layout: post
---

<!--本系列是基于公开资料对Google App Engine是如何实现的这个话题进行深度探讨。而且在切入Google App Engine之前，首先会对Google的核心技术和其整体架构进行分析，以帮助大家之后更好地理解-->

# Google云计算核心技术大揭秘

**本文来自吴朱华博客，博客链接<http://blog.csdn.net/ikewu83/archive/2010/06/03/5643914.aspx>**

本系列是基于公开资料对Google App Engine是如何实现的这个话题进行深度探讨。而且在切入Google App Engine之前，首先会对Google的核心技术和其整体架构进行分析，以帮助大家之后更好地理解Google App Engine的实现。

本篇将主要介绍Google的十个核心技术，而且可以分为四大类：

****

**分布式基础设施：GFS，Chubby和Protocol Buffer。  
**

**分布式大规模数据处理：MapReduce和Sawzall。**

**分布式数据库技术：BigTable和数据库Sharding。**

**数据中心优化技术：数据中心高温化，12V电池和服务器整合。**

**分布式基础设施**

GFS

由于搜索引擎需要处理海量的数据，所以Google的两位创始人Larry Page和Sergey Brin在创业初期设计一套名为“BigFiles”的文件系统，而GFS（全称为“Google File System”）这套分布式文件系统则是“BigFiles”的延续。  
  
首先，介绍它的架构，GFS主要分为两类节点：

  1. Master节点：主要存储与数据文件相关的元数据，而不是Chunk（数据块）。元数据包括一个能将64位标签映射到数据块的位置及其组成文件的表格，数据块副本位置和哪个进程正在读写特定的数据块等。还有Master节点会周期性地接收从每个Chunk节点来的更新（”Heart-beat”）来让元数据保持最新状态。
  2. Chunk节点：顾名思义，肯定用来存储Chunk，数据文件通过被分割为每个默认大小为64MB的Chunk的方式存储，而且每个Chunk有唯一一个64位标签，并且每个Chunk都会在整个分布式系统被复制多次，默认为3次。

下图就是GFS的架构图：

![GFS Architecture](http://cms.csdnimg.cn/articlev1/uploads/allimg/100607/11015GR4-0.png)**图1. GFS的架构图**

接着，在设计上，GFS主要有八个特点：

  1. **大文件和大数据块**：数据文件的大小普遍在GB级别，而且其每个数据块默认大小为64MB，这样做的好处是减少了元数据的大小，能使Master节点能够非常方便地将元数据放置在内存中以提升访问效率。
  2. **操作以添加为主**：因为文件很少被删减或者覆盖，通常只是进行添加或者读取操作，这样能充分考虑到硬盘线性吞吐量大和随机读写慢的特点。
  3. **支持容错**：首先，虽然当时为了设计方便，采用了单Master的方案，但是整个系统会保证每个Master都会有其相对应的复制品，以便于在Master节点出现问题时进行切换。其次，在Chunk层，GFS已经在设计上将节点失败视为常态，所以能非常好地处理Chunk节点失效的问题。
  4. **高吞吐量**：虽然其单个节点的性能无论是从吞吐量还是延迟都很普通，但因为其支持上千的节点，所以总的数据吞吐量是非常惊人的。
  5. **保护数据**：首先，文件被分割成固定尺寸的数据块以便于保存，而且每个数据块都会被系统复制三份。
  6. **扩展能力强：**因为元数据偏小，使得一个Master节点能控制上千个存数据的Chunk节点。
  7. **支持压缩**：对于那些稍旧的文件，可以通过对它进行压缩，来节省硬盘空间，并且压缩率非常惊人，有时甚至接近90%。
  8. **用户空间：**虽然在用户空间运行在运行效率方面稍差，但是更便于开发和测试，还有能更好利用Linux的自带的一些POSIX API。